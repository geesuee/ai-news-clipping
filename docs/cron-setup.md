# λ§¤μΌ μ¤μ „ 11μ‹ μλ™ μ¬λ™ λ©”μ‹μ§€ μ „μ†΅ μ„¤μ • κ°€μ΄λ“

## π• μλ™ μ‹¤ν–‰ μ‹κ°„

- **ν•κµ­ μ‹κ°„**: λ§¤μΌ μ¤μ „ 11μ‹
- **UTC μ‹κ°„**: λ§¤μΌ μ¤μ „ 2μ‹ (UTC+9)
- **μ‹¤ν–‰ λΉλ„**: ν•λ£¨ 1ν

## π€ μ„¤μ • λ°©λ²•

### 1. Vercel Cron Jobs μ„¤μ •

`vercel.json` νμΌμ— μ΄λ―Έ Cron Jobμ΄ μ„¤μ •λμ–΄ μμµλ‹λ‹¤:

```json
{
  "crons": [
    {
      "path": "/api/cron-daily-news",
      "schedule": "0 2 * * *"
    }
  ]
}
```

**Cron ν‘ν„μ‹ μ„¤λ…:**
- `0 2 * * *` = λ§¤μΌ UTC μ¤μ „ 2μ‹ (ν•κµ­ μ‹κ°„ μ¤μ „ 11μ‹)
- `0` = λ¶„ (0λ¶„)
- `2` = μ‹κ°„ (2μ‹, UTC)
- `*` = μΌ (λ§¤μΌ)
- `*` = μ›” (λ§¤μ›”)
- `*` = μ”μΌ (λ§¤μ£Ό)

### 2. API μ—”λ“ν¬μΈνΈ

Cron Jobμ΄ μ‹¤ν–‰ν•  API μ—”λ“ν¬μΈνΈ: `/api/cron-daily-news`

μ΄ APIλ” λ‹¤μμ„ μν–‰ν•©λ‹λ‹¤:
1. ν„μ¬ ν•κµ­ μ‹κ°„ ν™•μΈ
2. λ‰΄μ¤ ν΄λ¦¬ν•‘ μ‹¤ν–‰
3. μ°μ„ μμ„ μ‹μ¤ν…μ„ ν†µν• λ‰΄μ¤ λ­ν‚Ή
4. μ¬λ™μΌλ΅ λ©”μ‹μ§€ μ „μ†΅

### 3. λ°°ν¬ λ° ν™μ„±ν™”

```bash
# Vercelμ— λ°°ν¬
vercel --prod

# λλ”
npm run deploy
```

λ°°ν¬ ν›„ Vercel λ€μ‹λ³΄λ“μ—μ„ Cron Jobsκ°€ ν™μ„±ν™”λ©λ‹λ‹¤.

## π”§ μλ™ ν…μ¤νΈ

### λ΅μ»¬μ—μ„ ν…μ¤νΈ
```bash
# μ„λ²„ μ‹¤ν–‰
npm run dev

# Cron API μ§μ ‘ νΈμ¶
curl -X POST http://localhost:3000/api/cron-daily-news
```

### Vercelμ—μ„ ν…μ¤νΈ
```bash
# ν”„λ΅λ•μ… API μ§μ ‘ νΈμ¶
curl -X POST https://your-domain.vercel.app/api/cron-daily-news
```

## π“ λ¨λ‹ν„°λ§

### Vercel λ€μ‹λ³΄λ“
1. Vercel ν”„λ΅μ νΈ λ€μ‹λ³΄λ“ μ ‘μ†
2. Functions νƒ­μ—μ„ Cron Jobs ν™•μΈ
3. μ‹¤ν–‰ λ΅κ·Έ λ° μƒνƒ λ¨λ‹ν„°λ§

### λ΅κ·Έ ν™•μΈ
```bash
# Vercel λ΅κ·Έ ν™•μΈ
vercel logs

# νΉμ • ν•¨μ λ΅κ·Έ ν™•μΈ
vercel logs --function=cron-daily-news
```

## β οΈ μ£Όμμ‚¬ν•­

### 1. μ‹κ°„λ€ μ„¤μ •
- Cron Jobμ€ UTC μ‹κ°„μ„ κΈ°μ¤€μΌλ΅ μ‹¤ν–‰λ©λ‹λ‹¤
- ν•κµ­ μ‹κ°„ μ¤μ „ 11μ‹ = UTC μ¤μ „ 2μ‹
- μ„λ¨Ένƒ€μ„μ΄ μ μ©λλ” κ²½μ° μ‹κ°„ μ΅°μ • ν•„μ”

### 2. API μ ν•
- Vercel Hobby ν”λ: μ›” 100ν λ¬΄λ£
- Vercel Pro ν”λ: μ›” 1,000ν λ¬΄λ£
- λ§¤μΌ 1ν μ‹¤ν–‰ μ‹ μ›” 31ν μ‚¬μ©

### 3. ν™κ²½ λ³€μ
λ‹¤μ ν™κ²½ λ³€μκ°€ μ„¤μ •λμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤:
- `OPENAI_API_KEY`: OpenAI API ν‚¤
- `SLACK_WEBHOOK_URL`: Slack Webhook URL

## π› οΈ λ¬Έμ  ν•΄κ²°

### Cron Jobμ΄ μ‹¤ν–‰λμ§€ μ•λ” κ²½μ°
1. Vercel ν”„λ΅μ νΈκ°€ μ¬λ°”λ¥΄κ² λ°°ν¬λμ—λ”μ§€ ν™•μΈ
2. `vercel.json` νμΌμ Cron μ„¤μ • ν™•μΈ
3. Vercel λ€μ‹λ³΄λ“μ—μ„ Cron Jobs μƒνƒ ν™•μΈ
4. API μ—”λ“ν¬μΈνΈκ°€ μ •μƒ μ‘λ™ν•λ”μ§€ ν…μ¤νΈ

### μ¬λ™ λ©”μ‹μ§€κ°€ μ „μ†΅λμ§€ μ•λ” κ²½μ°
1. `SLACK_WEBHOOK_URL` ν™κ²½ λ³€μ ν™•μΈ
2. Slack Webhookμ΄ ν™μ„±ν™”λμ–΄ μλ”μ§€ ν™•μΈ
3. API λ΅κ·Έμ—μ„ μ—λ¬ λ©”μ‹μ§€ ν™•μΈ

### OpenAI API μ¤λ¥
1. `OPENAI_API_KEY` ν™κ²½ λ³€μ ν™•μΈ
2. API ν‚¤μ μ ν¨μ„± λ° ν• λ‹Ήλ‰ ν™•μΈ
3. λ„¤νΈμ›ν¬ μ—°κ²° μƒνƒ ν™•μΈ

## π“ μ¶”κ°€ μ„¤μ •

### λ‹¤λ¥Έ μ‹κ°„μ— μ‹¤ν–‰ν•κ³  μ‹¶μ€ κ²½μ°
`vercel.json`μ `schedule` κ°’μ„ μμ •:

```json
// λ§¤μΌ μ¤ν›„ 3μ‹ (ν•κµ­ μ‹κ°„)
"schedule": "0 6 * * *"

// λ§¤μΌ μ¤ν›„ 6μ‹ (ν•κµ­ μ‹κ°„)
"schedule": "0 9 * * *"

// λ§¤μΌ μμ • (ν•κµ­ μ‹κ°„)
"schedule": "0 15 * * *"
```

### μ—¬λ¬ λ² μ‹¤ν–‰ν•κ³  μ‹¶μ€ κ²½μ°
```json
"crons": [
  {
    "path": "/api/cron-daily-news",
    "schedule": "0 2 * * *"
  },
  {
    "path": "/api/cron-daily-news",
    "schedule": "0 14 * * *"
  }
]
```

## π― μµμΆ… ν™•μΈ μ²΄ν¬λ¦¬μ¤νΈ

- [ ] `vercel.json`μ— Cron Job μ„¤μ • μ™„λ£
- [ ] `/api/cron-daily-news` API μ—”λ“ν¬μΈνΈ κµ¬ν„ μ™„λ£
- [ ] ν™κ²½ λ³€μ μ„¤μ • μ™„λ£ (`OPENAI_API_KEY`, `SLACK_WEBHOOK_URL`)
- [ ] Vercelμ— λ°°ν¬ μ™„λ£
- [ ] Vercel λ€μ‹λ³΄λ“μ—μ„ Cron Jobs ν™μ„±ν™” ν™•μΈ
- [ ] μλ™ ν…μ¤νΈλ΅ API μ •μƒ μ‘λ™ ν™•μΈ
- [ ] μ¬λ™ λ©”μ‹μ§€ μ „μ†΅ ν…μ¤νΈ μ™„λ£

λ¨λ“  μ„¤μ •μ΄ μ™„λ£λλ©΄ λ§¤μΌ μ¤μ „ 11μ‹μ— μλ™μΌλ΅ AI λ‰΄μ¤κ°€ μ¬λ™μΌλ΅ μ „μ†΅λ©λ‹λ‹¤! π‰ 